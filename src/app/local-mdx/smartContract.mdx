<SlideDeck>
  <MainSlide
    title="블록체인 위에서 자동으로 실행되는 계약"
    tags={["스마트컨트랙트", "블록체인", "Web3", "탈중앙화"]}
    summary="중간 기관 없이도 신뢰할 수 있는 거래를 가능하게 하는 기술"
    author="donghyeun02"
    date="2025년 7월 18일"
  />

  <Slide 
    title="친구와의 내기"
    image="https://donghyeun-blog-images.s3.us-east-1.amazonaws.com/smartContract.jpg"
  >
    <p>친구와 내기를 했습니다.</p>
    <blockquote>"내일 비가 오면 네가 커피 사!"</blockquote>
    <p>다음 날, 아침에 10분 정도 가벼운 비가 왔고<br />
    친구는 <blockquote>"비 왔으니까 커피 사!"</blockquote>라고 했고,</p>
    <p>저는 "그거 그냥 스쳐 지나간 비였잖아. 진짜 비가 온 게 아니지!"라고 주장했습니다.</p>
    <p>결국 우리는 <strong>"얼마나 오면 '비가 왔다'고 할 수 있는지 기준이 없어서"</strong> 내기는 무효가 됐다.</p>
    <p>이런 경험, 해보신 적 있나요?</p>
  </Slide>

  <Slide 
    title="자동으로 판정해주는 시스템이 있다면?"
    image="https://donghyeun-blog-images.s3.us-east-1.amazonaws.com/smartContract.jpg"
  >
    <h3>문제의 원인</h3>
    <p>우리의 내기가 무효가 된 이유는 <strong>명확한 기준이 없었기 때문</strong>입니다.</p>
    <p>기상청에서는 <strong>"강우량 1mm 이상, 지속시간 10분 이상"</strong>을 비로 정의합니다.<br />
    이런 명확한 기준이 있다면, 자동으로 판정할 수 있지 않을까요?</p>
    
    <h3>스마트컨트랙트</h3>
    <p>스마트컨트랙트는 블록체인 위에서 <strong>명확한 조건</strong>과 <strong>공식 데이터</strong>를 기준으로,<br />
    사람의 개입 없이 자동으로 약속을 이행해주는 프로그램입니다.</p>
  </Slide>

  <CodeSlide 
    title="기상 데이터를 받아서 자동으로 판정하는 스마트컨트랙트"
    code={`// 기상 데이터를 받아서 자동으로 판정하는 스마트컨트랙트
    contract WeatherBet {
    address public user1;
    address public user2;
    uint256 public betAmount;
    
    function setResultFromOracle(uint256 rainfall, uint256 duration) public onlyOracle {
        if (rainfall >= 1 && duration >= 600) { // 1mm 이상, 10분(600초) 이상
            payable(user1).transfer(betAmount); // 비가 옴
        } else {
            payable(user2).transfer(betAmount); // 비가 오지 않음
        }
    }
}`}
  >
    <p><strong>"기상청 API에서 데이터를 가져온다"</strong>고 쉽게 말하지만,<br />
    실제로는 <strong>Oracle(오라클)</strong>이라는 중간 단계가 필요합니다.</p>
    <ul>
      <li><strong>Chainlink</strong> : 가장 널리 사용되는 오라클 네트워크</li>
      <li><strong>API3</strong> : API 제공자들이 직접 참여하는 오라클</li>
      <li><strong>Pyth Network</strong> : 실시간 금융 데이터 오라클</li>
    </ul>
    <blockquote>💡 이 오라클들이 신뢰되지 않으면, 스마트컨트랙트의 자동화도 무의미해집니다.</blockquote>
  </CodeSlide>

  <Slide 
    title="1994년, 닉 자보의 혁신적인 아이디어"
    image="https://donghyeun-blog-images.s3.us-east-1.amazonaws.com/smartContract.jpg"
  >
    <p>스마트컨트랙트의 개념은 <strong>1994년 컴퓨터 과학자 닉 자보(Nick Szabo)</strong>에 의해 처음 제안되었습니다.</p>
    <blockquote>"디지털 방식으로 약속을 자동으로 이행하는 시스템을 만들 수 있을까?"</blockquote>
    <p>당시 닉 자보는 <strong>자판기</strong>를 예시로 들었습니다.</p>
    <ul>
      <li>동전을 넣으면 자동으로 음료가 나옴</li>
      <li>사람의 개입 없이 조건에 따라 자동 실행</li>
      <li>신뢰할 수 있는 중간 기관 없이도 작동</li>
    </ul>
    <p>하지만 당시에는 <strong>블록체인 기술이 없어서</strong> 실현할 수 없었습니다.</p>
  </Slide>

  <Slide 
    title="2008년, 비트코인의 등장"
    image="https://donghyeun-blog-images.s3.us-east-1.amazonaws.com/btc.jpg"
  >
    <p><strong>사토시 나카모토</strong>가 비트코인을 발명하면서 블록체인 기술이 탄생했습니다.<br />
    하지만 비트코인은 단순한 <strong>화폐 전송</strong>만 가능했습니다.</p>
  </Slide>

  <Slide 
    title="2015년, 이더리움의 혁명"
    image="https://donghyeun-blog-images.s3.us-east-1.amazonaws.com/ethereum.jpg"
  >
    <p><strong>비탈릭 부테린</strong>이 이더리움을 만들면서 스마트컨트랙트가 현실이 되었습니다.</p>
    <blockquote>"비트코인은 계산기라면, 이더리움은 스마트폰이다"</blockquote>
    <p>이더리움은 <strong>튜링 완전(Turing Complete)</strong> 언어를 지원해서,<br />
    복잡한 프로그램을 블록체인 위에서 실행할 수 있게 되었습니다.</p>
  </Slide>

  <Slide 
    title="왜 혁신적인가?"
    image="https://donghyeun-blog-images.s3.us-east-1.amazonaws.com/smartcontract2.png"
  >
    <p>기존에는 <strong>"신뢰할 수 있는 제3자"</strong>가 필요했습니다.</p>
    <pre>전통적인 방식
    나 ↔ 친구 (서로 신뢰해야 함)
      ↓
    은행/증권사/중개인 (중간 기관 필요)</pre>
    <p>하지만 스마트컨트랙트는 다릅니다.</p>
    <pre>스마트컨트랙트
    나 ↔ 코드(블록체인) ↔ 친구
    (코드가 법이 되고, 실행이 보장됨)</pre>
    <p>조건이 충족되면 <strong>자동으로 실행</strong>됩니다.</p>
    <ul>
      <li>인간의 개입이나 실수 없음</li>
      <li>감정이나 편견 없이 공정하게 처리</li>
    </ul>
    <p>또한, 모든 거래 내역이 블록체인에 기록되어 <strong>누구나 검증</strong>할 수 있습니다.</p>
  </Slide>

  <Slide 
    title="실제 활용 사례"
    image="https://donghyeun-blog-images.s3.us-east-1.amazonaws.com/nft.jpg"
  >
    <h4>1. DeFi (탈중앙화 금융)</h4>
    <blockquote>"은행 없이도 대출받을 수 있다면?"</blockquote>
    <p><strong>기존</strong> : 은행에 신용도 확인 → 대출 승인 → 수수료 지불<br />
    <strong>DeFi</strong> : 스마트컨트랙트에 담보 제공 → 자동으로 대출 실행</p>
    
    <h4>2. NFT (대체 불가능 토큰)</h4>
    <blockquote>"디지털 그림의 진짜 주인이 누구인지 어떻게 증명할까?"</blockquote>
    <p><strong>기존</strong> : 파일을 복사하면 구분 불가<br />
    <strong>NFT</strong> : 블록체인에 소유권 기록 → 위조 불가능</p>
  </Slide>

  <Slide 
    title="개발자 관점, 실제로 어떻게 작동할까?"
    image="https://donghyeun-blog-images.s3.us-east-1.amazonaws.com/devthink.jpeg"
  >
    <p>처음에는 복잡해 보였지만, 실제로는 <strong>간단한 if-else 문</strong>과 비슷합니다.</p>
  </Slide>

  <CodeSlide 
    title="실제 스마트컨트랙트 코드"
    code={`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

contract StockBet {
    address public user1;
    address public user2;
    uint256 public betAmount;
    bool public isWin;
    address public owner;

    constructor(address _user2) payable {
        user1 = msg.sender;
        user2 = _user2;
        betAmount = msg.value;
        owner = msg.sender;
    }

    modifier onlyOwner() {
        require(msg.sender == owner, "Only owner can call this");
        _;
    }

    function setResult(bool _isWin) public onlyOwner {
        isWin = _isWin;
        
        if (isWin) {
            payable(user1).transfer(betAmount);
        } else {
            payable(user2).transfer(betAmount);
        }
    }

    function getBalance() public view returns (uint256) {
        return address(this).balance;
    }
}`}
  >
    <ul>
      <li><code>msg.value</code> : 실제 이더 사용</li>
      <li><code>payable</code> : 자동 이체 기능</li>
      <li><code>onlyOwner</code> : 접근 제어</li>
      <li>모든 상태가 블록체인에 공개</li>
    </ul>
  </CodeSlide>

  <Slide 
    title="실제 테스트 결과"
    image="https://donghyeun-blog-images.s3.us-east-1.amazonaws.com/smartcontract-deployment.png"
  >
    <p>위 이미지는 <code>StockBet</code> 컨트랙트를 배포한 결과입니다.</p>
    <ul>
      <li><strong>성공적인 배포</strong> : 트랜잭션이 성공적으로 실행됨</li>
      <li><strong>베팅 금액</strong> : 0.005 ETH (5000000000000000 wei) 전송</li>
      <li><strong>가스 비용</strong> : 335,174 gas 소모</li>
      <li><strong>컨트랙트 주소</strong> : <code>0xf8e81D47203A594245E36C48e151709F0C19fBe8</code></li>
    </ul>
    <blockquote><strong>참고</strong> : 이는 Remix VM (테스트 환경)에서 배포된 주소입니다.</blockquote>
  </Slide>

  <Slide 
    title="하지만 한계도 있다"
    image="https://donghyeun-blog-images.s3.us-east-1.amazonaws.com/ethehacking.png"
  >
    <strong> 확장성 문제</strong>
    <ul>
      <li><strong>TPS (초당 거래량)</strong> 제한</li>
      <li><strong>가스비</strong> - 실행 비용 발생</li>
    </ul>
    
    <strong>보안 위험 실제 사례들</strong>
    <ul>
      <li><strong>DAO 해킹 (2016)</strong> : 360만 ETH (당시 약 5천만 달러) 탈취</li>
      <li><strong>Poly Network 해킹 (2021)</strong> : 6억 달러 규모의 자금 탈취</li>
      <li><strong>Ronin Network 해킹 (2022)</strong> : 6억 달러 규모의 자금 탈취</li>
    </ul>
    
    <strong>핵심 문제점</strong>
    <ul>
      <li><strong>"배포 후 수정 불가"</strong> : 한번 블록체인에 올라가면 코드 변경 불가능</li>
      <li><strong>"자금 손실은 영구적"</strong> : 해킹당한 자금은 복구 불가능</li>
      <li><strong>"투명성의 역설"</strong> : 모든 코드가 공개되어 공격자에게 노출</li>
    </ul>
  </Slide>

  <CodeSlide 
    title="하지만 한계도 있다 cont."
    code={`// 접근 제어가 없으면 "공정한 자동화"가 무의미해집니다
modifier onlyOwner() {
    require(msg.sender == owner, "Only owner can call this");
    _;
}

modifier onlyOracle() {
    require(msg.sender == oracleAddress, "Only Oracle can call this");
    _;
}`}
  >
    <strong>규제의 불확실성</strong>
    <ul>
      <li><strong>국가별 차이</strong> : 한국은 가상자산 사업자 등록 필수, 미국은 SEC/CFTC 관할 충돌</li>
      <li><strong>법적 지위 불명확</strong> : 스마트 컨트랙트가 계약인가? 코드인가?</li>
      <li><strong>실제 사례</strong> : SEC vs Ripple (XRP가 증권인가 화폐인가?)</li>
    </ul>
    <blockquote>💡 기술은 빠르게 발전하지만, 법에 맞추기가 어렵습니다.</blockquote>
  </CodeSlide>

  <Slide 
    title="스마트컨트랙트 법적 해석"
    image="https://donghyeun-blog-images.s3.us-east-1.amazonaws.com/consider.png"
  >
    <SmartContractLegalQuiz />
  </Slide>

  <Slide 
    title="다시, 커피 내기로 돌아가 보자"
    image="https://donghyeun-blog-images.s3.us-east-1.amazonaws.com/%E1%84%8B%E1%85%B5%E1%84%89%E1%85%B2+%E1%84%8A%E1%85%A5%E1%86%B7%E1%84%82%E1%85%A6%E1%84%8B%E1%85%B5%E1%86%AF.png"
  >
    <p>조금 억지스럽겠지만 만약 그날 아침,<br />
    우리가 기상청 데이터를 기준으로 만든 스마트컨트랙트를 사용했다면<br />
    애매하게 끝날 일은 없었겠죠.</p>
    <p><strong>기준은 명확했고, 결과는 자동으로 처리됐을 테니까.</strong></p>
    <p>스마트컨트랙트는 <strong>신뢰할 수 없는 세상</strong>에서,<br />
    <strong>신뢰 가능한 시스템</strong>을 가능하게 하는 혁신적인 기술입니다.</p>
    <p>처음엔 복잡하고 어려운 기술처럼 느껴졌지만,<br />
    실제로는 "약속을 자동으로 지켜주는 시스템"이었습니다.</p>
    <p>앞으로 더 많은 개발자들이 이 기술을 이해하고 활용하면서<br />
    새로운 형태의 신뢰와 협력이 만들어질 것입니다.</p>
    <blockquote>💡 스마트컨트랙트는 단순한 기술이 아니라, 신뢰와 자동화의 새로운 패러다임입니다.</blockquote>
  </Slide>

  <Slide 
    title="참고 자료"
    image="https://donghyeun-blog-images.s3.us-east-1.amazonaws.com/%E1%84%8F%E1%85%A9%E1%84%83%E1%85%B5%E1%86%BC%E1%84%92%E1%85%A1%E1%84%82%E1%85%B3%E1%86%AB+%E1%84%80%E1%85%A9%E1%84%8B%E1%85%A3%E1%86%BC%E1%84%8B%E1%85%B5+%E1%84%8D%E1%85%A1%E1%86%AF.gif"
  >
    <ul>
      <li><a href="https://ethereum.org/developers/docs/">Ethereum 공식 문서</a></li>
      <li><a href="https://docs.soliditylang.org/">Solidity 공식 문서</a></li>
      <li><a href="https://openzeppelin.com/">OpenZeppelin</a> - 보안 라이브러리</li>
    </ul>
  </Slide>
</SlideDeck>